<x-header />

<style>.celdas {    
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: #656C82;    
    }
    .text-sm {
    font-size: 0.6rem;     
    }
    td.column-cliente {
    text-transform: uppercase;
    }
</style>

<div class="row">
    <div class="col-sm-12">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center m-2">
                <div class="d-flex">
                    <svg height="24" width="24" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 392.533 392.533" xml:space="preserve"><path style="fill:#FFFFFF;" d="M266.667,329.568V32.711c0-6.012-4.848-10.925-10.925-10.925H32.711  c-6.012,0-10.925,4.848-10.925,10.925v296.857c0,22.691,18.489,41.18,41.18,41.18h219.087  C272.485,359.693,266.667,345.341,266.667,329.568z" /><path style="fill:#194F82;" d="M81.519,224.84c8.857,0,16.097,7.176,16.097,16.097c0,6.012,4.848,10.925,10.925,10.925  c6.077,0,10.925-4.848,10.925-10.925c0-17.067-11.378-31.547-26.958-36.267v-7.111c0-6.012-4.848-10.925-10.925-10.925  c-6.077,0-10.925,4.848-10.925,10.925v7.111c-15.58,4.719-26.958,19.135-26.958,36.267c0,20.881,17.002,37.883,37.883,37.883  c-0.323,0.065,0,0,0.065,0c8.21,0.776,15.968,7.564,15.968,15.903c0,8.857-7.176,16.097-16.097,16.097s-16.097-7.176-16.097-16.097  c0-6.012-4.848-10.925-10.925-10.925s-10.925,4.849-10.925,10.925c0,17.067,11.378,31.547,26.958,36.267v7.046  c0,6.012,4.848,10.925,10.925,10.925c6.012,0,10.925-4.848,10.925-10.925v-7.046c15.58-4.719,26.958-19.135,26.958-36.267  c0-20.881-18.36-37.818-39.305-37.818c0.323-0.065,0,0-0.065,0c-8.21-0.776-14.545-7.628-14.545-15.968  C65.422,232.016,72.663,224.84,81.519,224.84z" /><path style="fill:#FFC10D;" d="M359.822,164.525h-71.37v165.107c0,22.691,18.489,41.18,41.18,41.18l1.875-0.065  c0.065,0,0.065,0,0.129,0c21.786-1.099,39.176-19.006,39.176-41.051V175.386C370.747,169.374,365.834,164.525,359.822,164.525z" /><path style="fill:#56ACE0;" d="M212.105,65.422H76.347c-6.012,0-10.925,4.848-10.925,10.925v55.467  c0,6.012,4.848,10.925,10.925,10.925h135.758c6.012,0,10.925-4.848,10.925-10.925V76.347  C223.03,70.335,218.117,65.422,212.105,65.422z" /><g>	<path style="fill:#194F82;" d="M212.105,43.572H76.347c-18.036,0-32.711,14.675-32.711,32.711v55.467   c0,18.036,14.675,32.711,32.711,32.711h135.758c18.036,0,32.711-14.675,32.711-32.711V76.283   C244.816,58.246,230.141,43.572,212.105,43.572z M223.03,131.749c0,6.012-4.848,10.925-10.925,10.925H76.347   c-6.012,0-10.925-4.848-10.925-10.925V76.283c0-6.012,4.848-10.925,10.925-10.925h135.758c6.012,0,10.925,4.848,10.925,10.925   V131.749z" />	<path style="fill:#194F82;" d="M233.891,228.396h-80.162c-6.012,0-10.925,4.848-10.925,10.925c0,6.012,4.848,10.925,10.925,10.925   h80.162c6.012,0,10.925-4.848,10.925-10.925C244.816,233.309,239.903,228.396,233.891,228.396z" />	<path style="fill:#194F82;" d="M233.891,275.135h-80.162c-6.012,0-10.925,4.848-10.925,10.925c0,6.012,4.848,10.925,10.925,10.925   h80.162c6.012,0,10.925-4.849,10.925-10.925C244.816,280.048,239.903,275.135,233.891,275.135z" />	<path style="fill:#194F82;" d="M359.822,142.61h-71.37V32.711C288.453,14.675,273.778,0,255.741,0H32.711   C14.675,0,0,14.675,0,32.711v296.857c0,34.78,28.186,62.966,62.966,62.966h266.667h2.457c0.388,0,0.776-0.129,1.164-0.129   c32.97-1.939,59.281-29.285,59.281-62.772V175.386C392.533,157.349,377.859,142.61,359.822,142.61z M62.966,370.747   c-22.691,0-41.18-18.489-41.18-41.18V32.711c0-6.012,4.848-10.925,10.925-10.925h223.03c6.012,0,10.925,4.848,10.925,10.925   v296.857c0,15.774,5.883,30.125,15.451,41.18H62.966z M370.747,329.568c0,22.044-17.39,40.016-39.176,41.051   c-0.065,0-0.065,0-0.129,0l-1.875,0.065c-22.691,0-41.18-18.489-41.18-41.18V164.525h30.19v147.459   c0,6.012,4.849,10.925,10.925,10.925s10.925-4.849,10.925-10.925V164.525h19.329c6.012,0,10.925,4.848,10.925,10.925v154.182h0.065   V329.568z" /></g></svg>
                    <h4 class="card-title" style="margin-left: 10px;">INFOESTATUS FACTURACION</h4>                    
                </div>

                <a class="btn btn-outline-primary py-2"
                    style="font-size: 12px;font-family: Titillium Web;font-weight: 700;"
                    href="#">
                    <svg width="16" height="16" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <defs> <linearGradient id="a" x1="4.494" y1="-2092.086" x2="13.832" y2="-2075.914" gradientTransform="translate(0 2100)" gradientUnits="userSpaceOnUse"> <stop offset="0" stop-color="#18884f" /> <stop offset="0.5" stop-color="#117e43" /> <stop offset="1" stop-color="#0b6631" /> </linearGradient> </defs> <title>file_type_excel</title> <path d="M19.581,15.35,8.512,13.4V27.809A1.192,1.192,0,0,0,9.705,29h19.1A1.192,1.192,0,0,0,30,27.809h0V22.5Z" style="fill:#185c37" /> <path d="M19.581,3H9.705A1.192,1.192,0,0,0,8.512,4.191h0V9.5L19.581,16l5.861,1.95L30,16V9.5Z" style="fill:#21a366" /> <path d="M8.512,9.5H19.581V16H8.512Z" style="fill:#107c41" /> <path d="M16.434,8.2H8.512V24.45h7.922a1.2,1.2,0,0,0,1.194-1.191V9.391A1.2,1.2,0,0,0,16.434,8.2Z" style="opacity:0.10000000149011612;isolation:isolate" /> <path d="M15.783,8.85H8.512V25.1h7.271a1.2,1.2,0,0,0,1.194-1.191V10.041A1.2,1.2,0,0,0,15.783,8.85Z" style="opacity:0.20000000298023224;isolation:isolate" /> <path d="M15.783,8.85H8.512V23.8h7.271a1.2,1.2,0,0,0,1.194-1.191V10.041A1.2,1.2,0,0,0,15.783,8.85Z" style="opacity:0.20000000298023224;isolation:isolate" /> <path d="M15.132,8.85H8.512V23.8h6.62a1.2,1.2,0,0,0,1.194-1.191V10.041A1.2,1.2,0,0,0,15.132,8.85Z" style="opacity:0.20000000298023224;isolation:isolate" /> <path d="M3.194,8.85H15.132a1.193,1.193,0,0,1,1.194,1.191V21.959a1.193,1.193,0,0,1-1.194,1.191H3.194A1.192,1.192,0,0,1,2,21.959V10.041A1.192,1.192,0,0,1,3.194,8.85Z" style="fill:url(#a)" /> <path d="M5.7,19.873l2.511-3.884-2.3-3.862H7.758L9.013,14.6c.116.234.2.408.238.524h.017c.082-.188.169-.369.26-.546l1.342-2.447h1.7l-2.359,3.84,2.419,3.905H10.821l-1.45-2.711A2.355,2.355,0,0,1,9.2,16.8H9.176a1.688,1.688,0,0,1-.168.351L7.515,19.873Z" style="fill:#fff" /> <path d="M28.806,3H19.581V9.5H30V4.191A1.192,1.192,0,0,0,28.806,3Z" style="fill:#33c481" /> <path d="M19.581,16H30v6.5H19.581Z" style="fill:#107c41" /> </svg>
                    <i class="me-2"></i>
                    DESCARGAR
                </a>
            </div>

                            
            <div class="container">
                <div class="d-flex flex-wrap justify-content-center align-items-center pt-2 pb-0">                    
                    <!-- 1 Select -->
                    <div class="col-lg-2 col-md-3 col-sm-4 mx-1" style="width:140px">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1"><svg width="18" height="18" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0" /><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" /><g id="SVGRepo_iconCarrier"><path d="M512 505.6c-108.8 0-204.8-89.6-204.8-204.8S396.8 102.4 512 102.4c108.8 0 204.8 89.6 204.8 204.8S620.8 505.6 512 505.6z m0-358.4c-83.2 0-153.6 70.4-153.6 153.6s64 153.6 153.6 153.6 153.6-70.4 153.6-153.6S595.2 147.2 512 147.2z" fill="#1761fd" /><path d="M832 864c0-211.2-147.2-377.6-326.4-377.6s-326.4 166.4-326.4 377.6H832z" fill="#ffffff" /><path d="M832 889.6H147.2v-25.6c0-224 160-403.2 352-403.2s352 179.2 352 396.8v25.6l-19.2 6.4z m-633.6-51.2h608C800 659.2 665.6 512 505.6 512c-166.4 0-294.4 147.2-307.2 326.4zM710.4 499.2c-12.8 0-25.6-12.8-25.6-25.6s12.8-25.6 25.6-25.6c64 0 121.6-51.2 121.6-121.6 0-51.2-32-96-83.2-115.2-12.8-6.4-19.2-19.2-12.8-32 6.4-12.8 19.2-19.2 32-12.8 70.4 19.2 115.2 83.2 115.2 160-6.4 96-83.2 172.8-172.8 172.8z" fill="#1761fd" /><path d="M966.4 806.4h-57.6c-12.8 0-25.6-12.8-25.6-25.6s12.8-25.6 25.6-25.6h32c-12.8-140.8-115.2-249.6-236.8-249.6-12.8 0-25.6-12.8-25.6-25.6s12.8-25.6 25.6-25.6c160 0 288 147.2 288 326.4v25.6h-25.6z" fill="#1761fd" /><path d="M300.8 499.2c-6.4 0-6.4 0 0 0-44.8 0-89.6-12.8-121.6-44.8-32-32-44.8-76.8-44.8-121.6 0-70.4 44.8-134.4 115.2-160 12.8-6.4 25.6 0 32 12.8 6.4 12.8 0 25.6-12.8 32-57.6 19.2-89.6 64-89.6 115.2 0 32 12.8 64 32 83.2 19.2 25.6 51.2 32 83.2 38.4 19.2 0 25.6 12.8 25.6 25.6s-6.4 19.2-19.2 19.2z" fill="#1761fd" /><path d="M89.6 806.4H12.8v-25.6c0-179.2 128-320 288-320 12.8 0 25.6 12.8 25.6 25.6s-12.8 25.6-25.6 25.6C179.2 512 76.8 620.8 64 761.6h32c12.8 0 25.6 12.8 25.6 25.6-6.4 6.4-12.8 19.2-32 19.2z" fill="#1761fd" /></g></svg></span>
                            <select class="form-select" autocomplete="off" id="cliente-select" style="font-size: 11px">
                                <option selected disabled>CLIENTE</option>
                                @foreach ($clientes as $cliente)
                                    <option value="{{$cliente->CLIENTE}}">{{ strToUpper($cliente->CLIENTE) }}</option>
                                @endforeach
                            </select>
                        </div>
                    </div>
                    <!-- 2 Select -->
                    <div class="col-lg-2 col-md-3 col-sm-4 mx-1" style="width:150px">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0" /><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" /><g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.52832 16.826C8.53464 17.7132 8.01843 18.5166 7.22106 18.8607C6.42369 19.2047 5.50274 19.0213 4.88882 18.3962C4.27491 17.7712 4.08935 16.828 4.41891 16.0077C4.74847 15.1873 5.52803 14.652 6.39307 14.652C6.95731 14.6499 7.49925 14.8777 7.89969 15.2854C8.30013 15.6931 8.52625 16.2473 8.52832 16.826V16.826Z" stroke="#1761fd" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /><path fill-rule="evenodd" clip-rule="evenodd" d="M18.7015 16.826C18.7078 17.7132 18.1916 18.5166 17.3942 18.8607C16.5969 19.2047 15.6759 19.0213 15.062 18.3962C14.4481 17.7712 14.2625 16.828 14.5921 16.0077C14.9216 15.1873 15.7012 14.652 16.5662 14.652C17.1305 14.6499 17.6724 14.8777 18.0728 15.2854C18.4733 15.6931 18.6994 16.2473 18.7015 16.826Z" stroke="#1761fd" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /><path d="M14.1804 17.576C14.5946 17.576 14.9304 17.2403 14.9304 16.826C14.9304 16.4118 14.5946 16.076 14.1804 16.076V17.576ZM8.5254 16.076C8.11119 16.076 7.7754 16.4118 7.7754 16.826C7.7754 17.2403 8.11119 17.576 8.5254 17.576V16.076ZM13.4304 16.826C13.4304 17.2403 13.7662 17.576 14.1804 17.576C14.5946 17.576 14.9304 17.2403 14.9304 16.826H13.4304ZM14.9304 11.559C14.9304 11.1448 14.5946 10.809 14.1804 10.809C13.7662 10.809 13.4304 11.1448 13.4304 11.559H14.9304ZM14.1804 16.076C13.7662 16.076 13.4304 16.4118 13.4304 16.826C13.4304 17.2403 13.7662 17.576 14.1804 17.576V16.076ZM14.43 17.576C14.8442 17.576 15.18 17.2403 15.18 16.826C15.18 16.4118 14.8442 16.076 14.43 16.076V17.576ZM18.6972 16.0761C18.283 16.0779 17.9487 16.4151 17.9505 16.8293C17.9523 17.2435 18.2896 17.5779 18.7038 17.576L18.6972 16.0761ZM20.9625 14.485L21.7125 14.4816C21.7123 14.4384 21.7084 14.3954 21.7008 14.3529L20.9625 14.485ZM21.1772 11.4269C21.1042 11.0192 20.7146 10.7478 20.3068 10.8208C19.8991 10.8937 19.6277 11.2834 19.7007 11.6912L21.1772 11.4269ZM14.1794 6.12705C13.7652 6.12705 13.4294 6.46283 13.4294 6.87705C13.4294 7.29126 13.7652 7.62705 14.1794 7.62705V6.12705ZM17.7587 6.87705V7.62705C17.7637 7.62705 17.7688 7.627 17.7739 7.62689L17.7587 6.87705ZM19.3783 7.55055L19.9178 7.02951L19.9178 7.02951L19.3783 7.55055ZM20.0197 9.21805L19.27 9.19669C19.2685 9.24804 19.2723 9.2994 19.2814 9.34996L20.0197 9.21805ZM19.6996 11.691C19.7725 12.0987 20.1621 12.3702 20.5699 12.2974C20.9776 12.2245 21.2491 11.8349 21.1763 11.4271L19.6996 11.691ZM14.9284 6.87705C14.9284 6.46283 14.5927 6.12705 14.1784 6.12705C13.7642 6.12705 13.4284 6.46283 13.4284 6.87705H14.9284ZM13.4284 11.559C13.4284 11.9733 13.7642 12.309 14.1784 12.309C14.5927 12.309 14.9284 11.9733 14.9284 11.559H13.4284ZM13.4284 6.87705C13.4284 7.29126 13.7642 7.62705 14.1784 7.62705C14.5927 7.62705 14.9284 7.29126 14.9284 6.87705H13.4284ZM14.1784 6.07705L14.9285 6.07705L14.9284 6.07167L14.1784 6.07705ZM13.1137 5.00005L13.1137 5.75006L13.1187 5.75003L13.1137 5.00005ZM3.50512 5.00005L3.498 5.75005H3.50512V5.00005ZM2.75423 5.31075L2.22207 4.78225L2.22207 4.78225L2.75423 5.31075ZM2.4375 6.07505L1.6875 6.06834V6.07505H2.4375ZM2.4375 15.75L1.68747 15.75L1.68753 15.7568L2.4375 15.75ZM2.75423 16.5143L3.28638 15.9858L3.28638 15.9858L2.75423 16.5143ZM3.50512 16.825L3.50512 16.075L3.498 16.0751L3.50512 16.825ZM4.25783 17.575C4.67204 17.575 5.00783 17.2393 5.00783 16.825C5.00783 16.4108 4.67204 16.075 4.25783 16.075V17.575ZM14.1804 10.809C13.7662 10.809 13.4304 11.1448 13.4304 11.559C13.4304 11.9733 13.7662 12.309 14.1804 12.309V10.809ZM20.4399 12.309C20.8541 12.309 21.1899 11.9733 21.1899 11.559C21.1899 11.1448 20.8541 10.809 20.4399 10.809V12.309ZM14.1804 16.076H8.5254V17.576H14.1804V16.076ZM14.9304 16.826V11.559H13.4304V16.826H14.9304ZM14.1804 17.576H14.43V16.076H14.1804V17.576ZM18.7038 17.576C19.5117 17.5725 20.281 17.2397 20.8437 16.6573L19.765 15.615C19.4792 15.9108 19.0947 16.0743 18.6972 16.0761L18.7038 17.576ZM20.8437 16.6573C21.4058 16.0756 21.7162 15.2926 21.7125 14.4816L20.2125 14.4885C20.2145 14.9137 20.0514 15.3186 19.765 15.615L20.8437 16.6573ZM21.7008 14.3529L21.1772 11.4269L19.7007 11.6912L20.2242 14.6172L21.7008 14.3529ZM14.1794 7.62705H17.7587V6.12705H14.1794V7.62705ZM17.7739 7.62689C18.1691 7.61888 18.5544 7.7771 18.8389 8.07158L19.9178 7.02951C19.3477 6.43922 18.5622 6.1106 17.7434 6.1272L17.7739 7.62689ZM18.8389 8.07158C19.124 8.36679 19.282 8.77315 19.27 9.19669L20.7694 9.2394C20.7928 8.41808 20.4872 7.61907 19.9178 7.02951L18.8389 8.07158ZM19.2814 9.34996L19.6996 11.691L21.1763 11.4271L20.758 9.08613L19.2814 9.34996ZM13.4284 6.87705V11.559H14.9284V6.87705H13.4284ZM14.9284 6.87705V6.07705H13.4284V6.87705H14.9284ZM14.9284 6.07167C14.9213 5.07677 14.1245 4.24331 13.1088 4.25006L13.1187 5.75003C13.2708 5.74902 13.427 5.87963 13.4285 6.08242L14.9284 6.07167ZM13.1137 4.25005H3.50512V5.75005H13.1137V4.25005ZM3.51225 4.25008C3.02654 4.24547 2.5628 4.43917 2.22207 4.78225L3.28638 5.83925C3.3461 5.77912 3.42257 5.7493 3.498 5.75001L3.51225 4.25008ZM2.22207 4.78225C1.88199 5.12468 1.69183 5.58769 1.68753 6.06834L3.18747 6.08175C3.18832 5.98687 3.22602 5.90003 3.28638 5.83925L2.22207 4.78225ZM1.6875 6.07505V15.75H3.1875V6.07505H1.6875ZM1.68753 15.7568C1.69183 16.2374 1.88199 16.7004 2.22207 17.0428L3.28638 15.9858C3.22602 15.9251 3.18832 15.8382 3.18747 15.7433L1.68753 15.7568ZM2.22207 17.0428C2.5628 17.3859 3.02654 17.5796 3.51225 17.575L3.498 16.0751C3.42257 16.0758 3.3461 16.046 3.28638 15.9858L2.22207 17.0428ZM3.50512 17.575H4.25783V16.075H3.50512V17.575ZM14.1804 12.309H20.4399V10.809H14.1804V12.309Z" fill="#1761fd" /></g></svg></span>
                            <select class="form-select" autocomplete="off" id="transportadora-select" style="font-size: 11px">
                                <option selected disabled>OPERADOR</option>
                                @foreach ($transportadoras as $transportadora)
                                    <option value="{{$transportadora->TRANSPORTADORA}}">{{ strToUpper($transportadora->TRANSPORTADORA) }}</option>
                                @endforeach
                            </select>
                        </div>
                    </div>
                    <!-- 3 date i -->
                    <div class="col-lg-2 col-md-3 col-sm-4 mx-1" style="width:140px">
                        <div class="input-group mb-3">                            
                            <input type="date" id="start-date" class="form-control" autocomplete="off">
                        </div>
                    </div>
                    <!-- 4 date f -->
                    <div class="col-lg-2 col-md-3 col-sm-4 mx-1" style="width:140px">
                        <div class="input-group mb-3">
                            <input type="date" id="end-date" class="form-control" autocomplete="off">                            
                        </div>
                    </div>
                    <!-- 5 Select -->
                    <div class="col-lg-2 col-md-3 col-sm-4 mx-1" style="width:130px">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0" /><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" /><g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 1.25C11.3953 1.25 10.8384 1.40029 10.2288 1.65242C9.64008 1.89588 8.95633 2.25471 8.1049 2.70153L6.03739 3.78651C4.99242 4.33487 4.15616 4.77371 3.51047 5.20491C2.84154 5.65164 2.32632 6.12201 1.95112 6.75918C1.57718 7.39421 1.40896 8.08184 1.32829 8.90072C1.24999 9.69558 1.24999 10.6731 1.25 11.9026V12.0974C1.24999 13.3268 1.24999 14.3044 1.32829 15.0993C1.40896 15.9182 1.57718 16.6058 1.95112 17.2408C2.32632 17.878 2.84154 18.3484 3.51047 18.7951C4.15616 19.2263 4.99241 19.6651 6.03737 20.2135L8.10481 21.2984C8.95628 21.7453 9.64006 22.1041 10.2288 22.3476C10.8384 22.5997 11.3953 22.75 12 22.75C12.6047 22.75 13.1616 22.5997 13.7712 22.3476C14.3599 22.1041 15.0437 21.7453 15.8951 21.2985L17.9626 20.2135C19.0076 19.6651 19.8438 19.2263 20.4895 18.7951C21.1585 18.3484 21.6737 17.878 22.0489 17.2408C22.4228 16.6058 22.591 15.9182 22.6717 15.0993C22.75 14.3044 22.75 13.3269 22.75 12.0975V11.9025C22.75 10.6731 22.75 9.69557 22.6717 8.90072C22.591 8.08184 22.4228 7.39421 22.0489 6.75918C21.6737 6.12201 21.1585 5.65164 20.4895 5.20491C19.8438 4.77371 19.0076 4.33487 17.9626 3.7865L15.8951 2.70154C15.0437 2.25472 14.3599 1.89589 13.7712 1.65242C13.1616 1.40029 12.6047 1.25 12 1.25ZM8.7708 4.04608C9.66052 3.57917 10.284 3.2528 10.802 3.03856C11.3062 2.83004 11.6605 2.75 12 2.75C12.3395 2.75 12.6938 2.83004 13.198 3.03856C13.716 3.2528 14.3395 3.57917 15.2292 4.04608L17.2292 5.09563C18.3189 5.66748 19.0845 6.07032 19.6565 6.45232C19.9387 6.64078 20.1604 6.81578 20.3395 6.99174L17.0088 8.65708L8.50895 4.18349L8.7708 4.04608ZM6.94466 5.00439L6.7708 5.09563C5.68111 5.66747 4.91553 6.07032 4.34352 6.45232C4.06131 6.64078 3.83956 6.81578 3.66054 6.99174L12 11.1615L15.3572 9.48289L7.15069 5.16369C7.07096 5.12173 7.00191 5.06743 6.94466 5.00439ZM2.93768 8.30737C2.88718 8.52125 2.84901 8.76413 2.82106 9.04778C2.75084 9.7606 2.75 10.6644 2.75 11.9415V12.0585C2.75 13.3356 2.75084 14.2394 2.82106 14.9522C2.88974 15.6494 3.02022 16.1002 3.24367 16.4797C3.46587 16.857 3.78727 17.1762 4.34352 17.5477C4.91553 17.9297 5.68111 18.3325 6.7708 18.9044L8.7708 19.9539C9.66052 20.4208 10.284 20.7472 10.802 20.9614C10.9656 21.0291 11.1134 21.0832 11.25 21.1255V12.4635L2.93768 8.30737ZM12.75 21.1255C12.8866 21.0832 13.0344 21.0291 13.198 20.9614C13.716 20.7472 14.3395 20.4208 15.2292 19.9539L17.2292 18.9044C18.3189 18.3325 19.0845 17.9297 19.6565 17.5477C20.2127 17.1762 20.5341 16.857 20.7563 16.4797C20.9798 16.1002 21.1103 15.6494 21.1789 14.9522C21.2492 14.2394 21.25 13.3356 21.25 12.0585V11.9415C21.25 10.6644 21.2492 9.7606 21.1789 9.04778C21.151 8.76412 21.1128 8.52125 21.0623 8.30736L17.75 9.96352V13C17.75 13.4142 17.4142 13.75 17 13.75C16.5858 13.75 16.25 13.4142 16.25 13V10.7135L12.75 12.4635V21.1255Z" fill="#1761fd" /></g></svg></span>
                            <select class="form-select" autocomplete="off" id="envio-select" style="font-size: 11px">
                                <option selected disabled>ENVIO</option>
                                @foreach ($envios as $envio)
                                    <option value="{{$envio->TIPO_ENVIO}}">{{ strToUpper($envio->TIPO_ENVIO) }}</option>
                                @endforeach
                            </select>
                        </div>
                    </div>
                    <!-- 6 Select -->
                    <div class="col-lg-2 col-md-3 col-sm-4 mx-1" style="width:150px">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#1761fd" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0" /><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" /><g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.925 1.78443C21.5328 1.18151 23.1029 2.75156 22.5 4.35933L16.0722 21.5C15.3574 23.4061 12.5838 23.1501 12.23 21.1453L10.8664 13.418L3.1391 12.0544C1.13427 11.7006 0.878261 8.92697 2.78443 8.21216L19.925 1.78443ZM20.6273 3.65708L3.48668 10.0848L11.2139 11.4485C12.0417 11.5945 12.6898 12.2426 12.8359 13.0704L14.1996 20.7977L20.6273 3.65708Z" fill="#1761fd" /></g></svg></span>
                            <select class="form-select" autocomplete="off" id="trayecto-select" style="font-size: 11px">
                                <option selected disabled>TRAYECTO</option>
                                @foreach ($trayectos as $trayecto)
                                    <option value="{{$trayecto->TIPO_TRAYECTO}}">{{ strToUpper($trayecto->TIPO_TRAYECTO) }}</option>
                                @endforeach
                            </select>
                        </div>
                    </div>
                    <!-- 7 Select -->
                    {{-- <div class="col-lg-2 col-md-3 col-sm-4 mx-1" style="width:140px">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 0 18 18" version="1.1"> <g id="surface1"> <path style="fill-rule:nonzero;fill:rgb(9.019608%,38.039216%,99.215686%);fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke:rgb(9.019608%,38.039216%,99.215686%);stroke-opacity:1;stroke-miterlimit:4;" d="M 508.666667 105.444444 L 406.555556 3.333333 C 402.444444 -0.888889 395.777778 -1.111111 391.333333 2.555556 C 391.333333 2.666667 391.222222 2.666667 391.222222 2.666667 C 391 2.888889 390.777778 3.111111 390.555556 3.333333 L 390.444444 3.333333 L 355.111111 38.777778 L 320.111111 73.666667 L 284.777778 109.111111 C 284.666667 109.111111 284.666667 109.111111 284.666667 109.111111 L 258.222222 135.666667 L 191.777778 69 L 152 29.333333 C 138.444444 15.777778 120.444444 8.333333 101.333333 8.333333 C 82.222222 8.333333 64.222222 15.777778 50.666667 29.333333 L 29.333333 50.666667 C 15.777778 64.222222 8.333333 82.222222 8.333333 101.333333 C 8.333333 120.444444 15.777778 138.444444 29.333333 152 L 69 191.777778 C 69 191.777778 69.111111 191.777778 69.111111 191.777778 L 135.666667 258.222222 L 3.333333 390.555556 C -1.111111 395 -1.111111 402.111111 3.333333 406.555556 L 105.444444 508.666667 C 107.666667 510.888889 110.555556 512 113.444444 512 C 116.333333 512 119.222222 510.888889 121.444444 508.666667 L 253.888889 376.222222 L 351.444444 473.555556 C 351.555556 473.666667 351.555556 473.666667 351.555556 473.666667 C 351.888889 474 352.222222 474.444444 352.555556 474.777778 C 356.666667 478.888889 364.888889 483.555556 396.444444 489.777778 C 435.666667 497.555556 488.777778 503.333333 491 503.555556 C 491.444444 503.666667 491.888889 503.666667 492.222222 503.666667 C 495.222222 503.666667 498.222222 502.444444 500.333333 500.333333 C 502.777778 497.888889 504 494.444444 503.555556 491 C 503.333333 488.777778 497.555556 435.666667 489.777778 396.444444 C 483.555556 364.888889 478.888889 356.666667 474.777778 352.555556 C 474.444444 352.222222 474 351.888889 473.666667 351.555556 C 473.666667 351.555556 473.666667 351.444444 473.555556 351.444444 L 376.222222 253.888889 L 508.666667 121.444444 C 513.111111 117 513.111111 109.888889 508.666667 105.444444 Z M 398.555556 27.444444 L 453.666667 82.555556 L 434.333333 101.888889 L 379.222222 46.777778 Z M 328.222222 97.888889 L 363.222222 132.888889 L 343.888889 152.222222 L 308.888889 117.111111 Z M 45.444444 135.888889 C 36.222222 126.666667 31.111111 114.444444 31.111111 101.333333 C 31.111111 88.222222 36.222222 76 45.444444 66.777778 L 66.777778 45.444444 C 76 36.222222 88.222222 31.111111 101.333333 31.111111 C 114.444444 31.111111 126.666667 36.222222 135.888889 45.444444 L 167.555556 77.111111 L 77.111111 167.555556 Z M 117.111111 308.888889 L 172.222222 364 L 152.888889 383.333333 L 97.777778 328.222222 Z M 27.444444 398.555556 L 46.777778 379.222222 L 81.888889 414.333333 L 62.555556 433.666667 Z M 113.444444 484.555556 L 78.666667 449.666667 L 106 422.333333 C 108.111111 420.222222 109.333333 417.333333 109.333333 414.333333 C 109.333333 411.222222 108.111111 408.333333 106 406.222222 L 62.888889 363.111111 L 81.777778 344.333333 L 144.888889 407.444444 C 147 409.555556 149.888889 410.777778 152.888889 410.777778 C 155.888889 410.777778 158.777778 409.555556 161 407.444444 L 196.333333 372 C 200.777778 367.555556 200.777778 360.333333 196.333333 355.888889 L 133.222222 292.777778 L 151.666667 274.333333 L 237.666667 360.333333 Z M 394.888889 466.222222 C 374.444444 461.888889 369.333333 459 368.444444 458.444444 C 368.222222 458.111111 367.888889 457.888889 367.666667 457.555556 C 367.444444 457.444444 367.333333 457.222222 367.222222 457.111111 C 367 456.888889 366.777778 456.666667 366.666667 456.333333 C 366.555556 456.222222 366.444444 456.222222 366.444444 456.111111 C 366.111111 455.777778 365.888889 455.444444 365.666667 455.111111 C 365.666667 455.111111 365.666667 455.111111 365.555556 455 C 357.666667 444 358.333333 428.777778 367.666667 418.444444 C 368 418.111111 368.333333 417.777778 368.666667 417.333333 C 375.111111 410.888889 384 407.888889 393 409.111111 L 422.555556 438.666667 Z M 479.333333 479.333333 C 465.444444 477.555556 443.333333 474.777778 422.111111 471.222222 L 471.222222 422.111111 C 474.777778 443.333333 477.555556 465.444444 479.333333 479.333333 Z M 455 365.555556 C 455 365.555556 455.111111 365.666667 455.111111 365.666667 C 455.444444 365.888889 455.777778 366.111111 456 366.333333 C 456.111111 366.444444 456.333333 366.555556 456.444444 366.666667 C 456.666667 366.777778 456.888889 367 457.111111 367.222222 C 457.222222 367.333333 457.444444 367.555556 457.555556 367.666667 C 457.888889 367.888889 458.222222 368.222222 458.444444 368.444444 C 459 369.333333 461.888889 374.444444 466.222222 394.888889 L 438.666667 422.555556 L 409.111111 393 C 408.888889 391.555556 408.777778 390 408.888889 388.555556 C 409 381.111111 412 374.111111 417.333333 368.666667 C 417.777778 368.333333 418.111111 368 418.444444 367.666667 C 418.444444 367.666667 418.444444 367.666667 418.555556 367.666667 C 428.777778 358.444444 444 357.666667 455 365.555556 Z M 428.222222 338.222222 C 420.111111 339.777778 412.222222 343.444444 405.333333 348.888889 C 405.222222 349 405.111111 349.111111 405 349.222222 C 404.555556 349.666667 404 350.111111 403.555556 350.444444 C 403.333333 350.666667 403.222222 350.777778 403 350.888889 C 402.444444 351.444444 401.888889 352 401.444444 352.555556 C 401.333333 352.555556 401.333333 352.555556 401.333333 352.555556 C 395.555556 358.333333 391.333333 365.222222 388.777778 372.666667 L 194.333333 178.333333 C 189.888889 173.888889 182.777778 173.888889 178.333333 178.333333 C 173.888889 182.666667 173.888889 189.888889 178.333333 194.333333 L 372.666667 388.777778 C 368.222222 390.333333 363.888889 392.444444 359.888889 395.222222 C 357.333333 397 354.888889 399 352.555556 401.333333 C 352 401.888889 351.444444 402.444444 350.888889 403 C 350.777778 403.222222 350.666667 403.333333 350.444444 403.555556 C 350.111111 404 349.666667 404.555556 349.222222 405 C 349.111111 405.111111 349 405.222222 348.888889 405.333333 C 343.444444 412.222222 339.777778 420.111111 338.222222 428.222222 L 93.222222 183.666667 L 183.666667 93.222222 Z M 360.333333 237.666667 L 274.333333 151.666667 L 292.777778 133.222222 L 335.888889 176.333333 C 338.111111 178.555556 341 179.666667 343.888889 179.666667 C 346.888889 179.666667 349.777778 178.555556 352 176.333333 L 387.333333 141 C 389.555556 138.777778 390.666667 135.888889 390.666667 132.888889 C 390.666667 129.888889 389.555556 127 387.333333 124.888889 L 344.222222 81.777778 L 363.111111 62.888889 L 426.222222 126 C 428.444444 128.222222 431.333333 129.333333 434.333333 129.333333 C 437.222222 129.333333 440.111111 128.222222 442.333333 126 L 469.777778 98.666667 L 484.555556 113.444444 Z M 360.333333 237.666667 " transform="matrix(0.0351562,0,0,0.0351562,0,0)"/> <path style="fill-rule:nonzero;fill:rgb(9.019608%,38.039216%,99.215686%);fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke:rgb(9.019608%,38.039216%,99.215686%);stroke-opacity:1;stroke-miterlimit:4;" d="M 173.888889 160.555556 C 173.777778 159.777778 173.555556 159.111111 173.222222 158.444444 C 173 157.666667 172.666667 157.111111 172.222222 156.444444 C 171.777778 155.777778 171.333333 155.222222 170.777778 154.666667 C 170.333333 154.222222 169.666667 153.666667 169.111111 153.333333 C 168.444444 152.888889 167.777778 152.555556 167.111111 152.222222 C 166.444444 152 165.666667 151.777778 165 151.555556 C 163.555556 151.333333 162 151.333333 160.555556 151.555556 C 159.777778 151.777778 159.111111 152 158.444444 152.222222 C 157.666667 152.555556 157.111111 152.888889 156.444444 153.333333 C 155.777778 153.666667 155.222222 154.222222 154.666667 154.666667 C 154.222222 155.222222 153.666667 155.777778 153.333333 156.444444 C 152.888889 157.111111 152.555556 157.666667 152.222222 158.444444 C 152 159.111111 151.777778 159.777778 151.666667 160.555556 C 151.444444 161.222222 151.333333 162 151.333333 162.777778 C 151.333333 163.444444 151.444444 164.222222 151.666667 165 C 151.777778 165.666667 152 166.444444 152.222222 167.111111 C 152.555556 167.777778 152.888889 168.444444 153.333333 169.111111 C 153.666667 169.666667 154.222222 170.222222 154.666667 170.777778 C 155.222222 171.333333 155.777778 171.777778 156.444444 172.222222 C 157.111111 172.666667 157.666667 173 158.444444 173.222222 C 159.111111 173.555556 159.777778 173.777778 160.555556 173.888889 C 161.222222 174 162 174.111111 162.777778 174.111111 C 163.444444 174.111111 164.222222 174 165 173.888889 C 165.666667 173.777778 166.444444 173.555556 167.111111 173.222222 C 167.777778 173 168.444444 172.666667 169.111111 172.222222 C 169.666667 171.777778 170.333333 171.333333 170.777778 170.777778 C 171.333333 170.222222 171.777778 169.666667 172.222222 169.111111 C 172.666667 168.444444 173 167.777778 173.222222 167.111111 C 173.555556 166.444444 173.777778 165.666667 173.888889 165 C 174 164.222222 174.111111 163.444444 174.111111 162.777778 C 174.111111 162 174 161.222222 173.888889 160.555556 Z M 173.888889 160.555556 " transform="matrix(0.0351562,0,0,0.0351562,0,0)"/> </g> </svg></span>
                            <select class="form-select" autocomplete="off" id="medida-select" style="font-size: 11px">
                                <option selected disabled>MEDIDAS</option>
                                @foreach ($medidas as $medida)
                                    <option value="{{$medida->AUDITADO}}">{{ strToUpper($medida->AUDITADO) }}</option>
                                @endforeach
                            </select>
                        </div>
                    </div> --}}
                    <!-- 8 Select -->
                    <div class="col-lg-2 col-md-3 col-sm-4 mx-1" style="width:150px">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1"><svg fill="#1761fd" width="18" height="18" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0" /><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" /><g id="SVGRepo_iconCarrier"><path d="M12,1A11,11,0,1,0,23,12,11.013,11.013,0,0,0,12,1Zm0,20a9,9,0,1,1,9-9A9.011,9.011,0,0,1,12,21Zm1-3H11V16h2Zm0-4H11V6h2Z" /></g></svg></span>
                            <select class="form-select" autocomplete="off" id="novedad-select" style="font-size: 11px">
                                <option selected disabled>NOVEDAD</option>
                                @foreach ($novedades as $novedad)
                                    <option value="{{$novedad->novedad}}">{{ strToUpper($novedad->novedad) }}</option>
                                @endforeach
                            </select>
                        </div>
                    </div>                  
                </div>                                    
            </div>
            <div id="totalResults" style="margin-top:1px;font-size: 12px;font-family: Titillium Web;"></div>            

                <div class="table-responsive">    
                <table id="estados-table" class="table table-striped mb-0">
                    <thead class="table-dark" style="font-size: 11px;">
                        <tr>
                            <th class="celdas" style="color: #C4F4FF;border: 1px solid #0c213a;">GUIA</th>
                            <th class="celdas" style="color: #C4F4FF;border: 1px solid #0c213a;">TRANSPORTADORA</th>
                            <th class="celdas" style="color: #C4F4FF;border: 1px solid #0c213a;">CLIENTE</th>                            
                            <th class="celdas" style="color: #C4F4FF;border: 1px solid #0c213a;">FECHA</th>
                            <th class="celdas" style="color: #C4F4FF;border: 1px solid #0c213a;">ORIGEN</th>
                            <th class="celdas" style="color: #C4F4FF;border: 1px solid #0c213a;">DESTINO</th>                            
                            <th class="      " style="color: #C4F4FF;border: 1px solid #0c213a;">VALOR DECLARADO</th>
                            <th class="celdas" style="color: #C4F4FF;border: 1px solid #0c213a;">PIEZAS</th>
                            <th class="celdas" style="color: #C4F4FF;border: 1px solid #0c213a;">TIPO ENVIO</th>
                            <th class="celdas" style="color: #C4F4FF;border: 1px solid #0c213a;">TIPO TRAYECTO</th>                                                        
                            <th class="      " style="color: #C4F4FF;border: 1px solid #0c213a;">PESO ESTATUS</th>
                            <th class="      " style="color: #C3FF93;border: 1px solid #0c213a;">PESO FISICO</th>
                            <th class="celdas" style="color: #C3FF93;border: 1px solid #0c213a;">PIEZAS</th>
                            <th class="      " style="color: #C3FF93;border: 1px solid #0c213a;">PESO VOLUMEN</th>
                            <th class="      " style="color: #C3FF93;border: 1px solid #0c213a;">PESO VALIDADO</th>
                            <th class="celdas" style="color: #C3FF93;border: 1px solid #0c213a;">AUDITADO</th>                                                                                    
                            <th class="celdas" style="color: #FBB454;border: 1px solid #0c213a;">NOVEDAD</th>
                            <th class="celdas" style="color: #FBB454;border: 1px solid #0c213a;">DETALLE</th>
                            <th class="celdas" style="color: #FBB454;border: 1px solid #0c213a;">CASO</th>
                            <th class="celdas" style="color: #FBB454;border: 1px solid #0c213a;">RESPONSABLE</th>                                                                                    
                            <th class="      " style="color: #FF5580;border: 1px solid #0c213a;">PIEZAS PREFACTURA GLE</th>
                            <th class="      " style="color: #FF5580;border: 1px solid #0c213a;">TRAYECTO PREFACTURA GLE</th>                            
                            <th class="      " style="color: #FF5580;border: 1px solid #0c213a;">PESO PREFACTURA GLE</th>                            
                            <th class="      " style="color: #FF5580;border: 1px solid #0c213a;">TOTAL PREFACTURA GLE</th> 
                            <th class="      " style="color: #FFDB00;border: 1px solid #0c213a;">PIEZAS PROVEEDOR</th>                                                       
                            <th class="      " style="color: #FFDB00;border: 1px solid #0c213a;">TRAYECTO PROVEEDOR</th>
                            <th class="      " style="color: #FFDB00;border: 1px solid #0c213a;">PESO FACT PROVEEDOR</th>                                                       
                            <th class="      " style="color: #FFDB00;border: 1px solid #0c213a;">FLETE PROVEEDOR</th>                                                       
                            <th class="      " style="color: #FFDB00;border: 1px solid #0c213a;">COSTO MANEJO PROVEEDOR</th>                                                       
                            <th class="      " style="color: #FFDB00;border: 1px solid #0c213a;">TOTAL PROVEEDOR</th>                                                       
                            <th class="celdas" style="color: #45FFCA;border: 1px solid #0c213a;">UTILIDAD</th>
                            <th class="celdas" style="color: #45FFCA;border: 1px solid #0c213a;">RENTABILIDAD</th>
                            <th class="      " style="color: #45FFCA;border: 1px solid #0c213a;">DIFERENCIA DE PESOS</th>
                            <th class="      " style="color: #45FFCA;border: 1px solid #0c213a;">DIFERENCIA DE PIEZAS</th>
                        </tr>
                    </thead>
                    <tbody style="font-size: 12px;font-family: Titillium Web;">
                    </tbody>
                </table>
            </div>

<script>
    $(document).ready(function() {
        var table = $('#estados-table').DataTable({
            processing: true,
            serverSide: true,
            searching: false,
            paging: false,
            info: false,
            deferRender: true,            
            ajax: {
                url: '{{ route('estado.index') }}',
                dataSrc: function(json) {
                $('#totalResults').text(json.totalResults + ' resultados encontrados');
                return json.data;
                },
                data: function(d) {
                d.cliente = $('#cliente-select').val();
                d.transportadora = $('#transportadora-select').val();
                d.startDate = $('#start-date').val();
                d.endDate = $('#end-date').val();
                d.envio = $('#envio-select').val();
                d.trayecto = $('#trayecto-select').val();
                d.novedad = $('#novedad-select').val();                                
            }
            },            
            columns: [
                {data: 'GUIA', name: 'GUIA'},
                {data: 'TRANSPORTADORA', name: 'TRANSPORTADORA'},
                {data: 'CLIENTE', name: 'CLIENTE'},                
                {data: 'FECHA_ELABORACION', name: 'FECHA_ELABORACION'},
                {data: 'ORIGEN', name: 'ORIGEN'},
                {data: 'CIUDAD_DESTINO', name: 'CIUDAD_DESTINO'},                
                {data: 'VALOR_DECLARADO', name: 'VALOR_DECLARADO',render: function(data, type, row) {return new Intl.NumberFormat('es-ES').format(data);}},
                {data: 'PIEZAS', name: 'PIEZAS'},
                {data: 'TIPO_ENVIO', name: 'TIPO_ENVIO'},
                {data: 'TIPO_TRAYECTO', name: 'TIPO_TRAYECTO'},                                
                {data: 'PESO', name: 'PESO'},
                {data: 'PESO_FISICO', name: 'PESO_FISICO'},
				{data: 'PIEZASAUD', name: 'PIEZASAUD'},
				{data: 'VOLUMEN', name: 'VOLUMEN'},
				{data: 'PESO_VALIDADO', name: 'PESO_VALIDADO'},
				{data: 'AUDITADO', name: 'AUDITADO'},
                {data: 'novedad', name: 'novedad'},
                {data: 'detalle', name: 'detalle'},
                {data: 'caso', name: 'caso'},
                {data: 'responsable_novedad', name: 'responsable_novedad'},                                                
                {data: 'PZPF', name: 'PZPF'},
                {data: 'TTPF', name: 'TTPF'},
                {data: 'KILO_LIQUIDAR', name: 'KILO_LIQUIDAR'},
                {data: 'TOTAL', name: 'TOTAL',render: function(data, type, row) {return new Intl.NumberFormat('es-ES').format(data);}},
                {data: 'PIEZ_PP', name: 'PIEZ_PP'},
                {data: 'TRAY_PP', name: 'TRAY_PP'},
                {data: 'PESOFACTURADO_PP', name: 'PESOFACTURADO_PP'},
                {data: 'FLETE_PP', name: 'FLETE_PP',render: function(data, type, row) {return new Intl.NumberFormat('es-ES').format(data);}},
                {data: 'CMAN_PP', name: 'CMAN_PP',render: function(data, type, row) {return new Intl.NumberFormat('es-ES').format(data);}},
                {data: 'TOTA_PP', name: 'TOTA_PP',render: function(data, type, row) {return new Intl.NumberFormat('es-ES').format(data);}},
                {
                    data: null,
                    name: 'UTILIDAD',
                    render: function(data, type, row) {
                        // Calcular la utilidad
                        var utilidad = row.TOTAL - row.TOTA_PP;
                        // Formatear la utilidad
                        return new Intl.NumberFormat('es-ES').format(utilidad);
                    }
                },
                {
                    data: null,
                    name: 'Rentabilidad',
                    render: function(data, type, row) {
                        // Calcular la utilidad
                        var utilidad = row.TOTAL - row.TOTA_PP;
                        // Calcular la rentabilidad
                        var rentabilidad = utilidad / row.TOTAL;
                        // Asegurarse de que el valor no sea NaN o infinito
                        if (!isNaN(rentabilidad) && isFinite(rentabilidad)) {
                            // Formatear la rentabilidad como porcentaje
                            return (rentabilidad * 100).toFixed(2) + ' %';
                        } else {
                            return '0.00 %';
                        }
                    }
                },
                {
                    data: null,
                    name: 'DIFERENCIA_PESOS',
                    render: function(data, type, row) {
                        // Calcular la utilidad
                        var utilidad = row.KILO_LIQUIDAR - row.PESOFACTURADO_PP;
                        // Formatear la utilidad
                        return new Intl.NumberFormat('es-ES').format(utilidad);
                    }
                },
                {
                    data: null,
                    name: 'DIFERENCIA_PIEZAS',
                    render: function(data, type, row) {
                        // Calcular la utilidad
                        var utilidad = row.PZPF - row.PIEZ_PP;
                        // Formatear la utilidad
                        return new Intl.NumberFormat('es-ES').format(utilidad);
                    }
                },             
            ],
            columnDefs: [{
                targets: [17], // Índice de la columna con texto largo
                render: function(data, type, row, meta) {
                    if (type === 'display') {
                        var decodedData = decodeHTMLEntities(data);
                        var truncatedText = decodedData.length > 10 ? decodedData.substr(0, 10) + '...' : decodedData;
                        return '<span class="truncated">' + truncatedText + '</span>' +
                               '<span class="full-text" style="display:none;">' + decodedData + '</span>' +
                               '<a href="#" class="toggle-text">+</a>';
                    }
                    return data;
                }
            }],
            createdRow: function(row, data, dataIndex) {
                // Añadir la clase y estilo a todas las celdas
                $(row).find('td').addClass('celdas').css({
                    'border': '1px solid #9FAACC',
                    'padding-top': '5px',
                    'padding-bottom': '5px',
                    'text-align': 'center'
                });
            },            
            dom: 'Bfrtip',
            buttons: [
            {extend: 'copy', text: 'Copiar', className: 'btn btn-primary py-0 mr-4',},
            {extend: 'excel', text: 'a Excel', className: 'btn btn-success py-0',}
        ],
            language: {
                lengthMenu: "Mostrar _MENU_ registros por página",
                zeroRecords: "No se encontraron registros",
                info: "Mostrando página _PAGE_ de _PAGES_",
                infoEmpty: "No hay registros disponibles",
                infoFiltered: "(filtrado de _MAX_ registros en total)"
            },
        });
        
        $('#estados-table').on('click', 'a.toggle-text', function(e) {
            e.preventDefault();
            var $link = $(this);
            var $truncated = $link.siblings('.truncated');
            var $fullText = $link.siblings('.full-text');

            if ($link.text() === '+') {
                $truncated.hide();
                $fullText.show();
                $link.text('-');
            } else {
                $fullText.hide();
                $truncated.show();
                $link.text('+');
            }
        });

        $('#cliente-select, #transportadora-select, #start-date, #end-date, #envio-select, #trayecto-select, #novedad-select').on('change', function() {
            table.draw();
        });

        function decodeHTMLEntities(text) {
            var textArea = document.createElement('textarea');
            textArea.innerHTML = text;
            return textArea.value;
        }
    });
</script>

        </div>

<footer class="footer text-center text-sm-start">
    &copy;
    <script>
        document.write(new Date().getFullYear())
    </script> Prefactura
    <span class="text-muted d-none d-sm-inline-block float-end"><span class="text-danger">GLE </span> Grupo
        Logístico
        Especializado </span>
    {{-- <i
    class="mdi mdi-heart text-danger"></i> --}}
</footer>
<!-- Enlaces a los archivos JS de jQuery y DataTables -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.1.1/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.1.1/js/buttons.html5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<!-- jQuery  -->
<script src="{{ asset('assets/js/metismenu.min.js') }}"></script>
<script src="{{ asset('assets/js/waves.js') }}"></script>
<script src="{{ asset('assets/js/feather.min.js') }}"></script>
<script src="{{ asset('assets/js/simplebar.min.js') }}"></script>
<script src="{{ asset('assets/js/moment.js') }}"></script>
<!-- App js -->
<script src="{{ asset('assets/js/app.js') }}"></script>
