<x-header />
<style>.celdas {    
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: #656C82;
    }
</style>
<div class="row">
    <div class="">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center m-2">
                <div class="d-flex">
                    <svg height="24" width="24" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 392.533 392.533" xml:space="preserve"><path style="fill:#FFFFFF;" d="M310.917,264.792L310.917,264.792c-18.941-5.172-38.788-9.115-59.022-11.636l-45.899,93.673  c-4.008,8.145-15.58,8.145-19.523,0l-45.899-93.673c-20.234,2.521-40.21,6.077-59.022,11.636  c-30.19,8.857-31.612,37.689-31.612,37.689v68.331h292.719v-65.099C342.529,286.707,329.535,269.899,310.917,264.792z" /><path style="fill:#194F82;" d="M316.735,243.717c-22.432-6.206-45.964-10.602-70.012-13.188c-4.59-0.453-8.986,1.939-10.99,6.012  l-39.564,80.549l-39.499-80.614c-2.004-4.073-6.4-6.594-10.99-6.012l0,0c-24.048,2.651-47.58,7.111-70.012,13.188  c-27.992,7.693-47.58,33.228-47.58,61.931v76.024c0,6.012,4.848,10.925,10.925,10.925h314.505c6.012,0,10.925-4.848,10.925-10.925  v-76.024C364.315,276.881,344.792,251.41,316.735,243.717z M342.529,370.747H49.81v-68.331c0,0,1.293-28.768,31.612-37.689  c18.877-5.56,38.788-9.115,59.022-11.636l45.899,93.673c4.008,8.145,15.58,8.145,19.523,0l45.899-93.673  c20.234,2.521,40.081,6.465,59.022,11.636l0,0c18.618,5.107,31.612,21.851,31.612,40.857v65.164H342.529z" /><g>	<path style="fill:#56ACE0;" d="M305.099,285.802c-13.123-3.62-26.828-6.594-40.727-8.857l-35.297,71.952h91.475v-43.249   C320.743,296.469,314.343,288.323,305.099,285.802z" />	<path style="fill:#56ACE0;" d="M117.818,291.556c6.012,0,10.925,4.848,10.925,10.925s-4.848,10.925-10.925,10.925H71.596v15.838   h21.01c6.012,0,10.925,4.849,10.925,10.925c0,3.62-1.875,6.853-4.59,8.857H163.2l-35.297-71.952   c-13.899,2.327-27.539,5.236-40.727,8.857c-3.814,1.034-7.046,3.103-9.632,5.689h40.339v-0.065H117.818z" /></g><path style="fill:#FFC10D;" d="M282.02,107.636c0-47.386-38.529-85.851-85.85-85.851s-85.851,38.465-85.851,85.851  s38.529,85.786,85.851,85.786S282.02,154.958,282.02,107.636z" /><g>	<path style="fill:#194F82;" d="M196.17,0C136.824,0,88.533,48.291,88.533,107.636s48.291,107.636,107.636,107.636   s107.636-48.291,107.636-107.636S255.515,0,196.17,0z M196.17,193.422c-47.321,0-85.851-38.465-85.851-85.786   c0-47.386,38.529-85.851,85.851-85.851s85.85,38.465,85.85,85.851S243.491,193.422,196.17,193.422z" />	<path style="fill:#194F82;" d="M196.17,71.693c6.853,0,12.541,5.624,12.541,12.541c0,6.012,4.848,10.925,10.925,10.925   c6.077,0,10.925-4.848,10.925-10.925c0-15.063-9.826-27.927-23.402-32.517v-4.461c0-6.012-4.848-10.925-10.925-10.925   c-6.012,0-10.925,4.848-10.925,10.925v4.655c-13.576,4.59-23.402,17.39-23.402,32.517c0,18.941,15.386,34.327,34.327,34.327   c6.853,0,12.541,5.56,12.541,12.541c0,6.788-5.624,12.347-12.541,12.347c-6.853,0-12.541-5.56-12.541-12.541   c0-6.012-4.848-10.925-10.925-10.925c-6.012,0-10.925,4.848-10.925,10.925c0,15.063,9.826,27.927,23.402,32.453v4.59   c0,6.012,4.848,10.925,10.925,10.925c6.012,0,10.925-4.848,10.925-10.925v-4.59c13.576-4.59,23.402-17.39,23.402-32.453   c0-18.941-15.386-34.327-34.327-34.327c-6.853,0-12.541-5.56-12.541-12.541S189.317,71.693,196.17,71.693z" /></g></svg>
                    <h4 class="card-title" style="margin-left: 10px;">LISTADO DE CLIENTES DE MASIVOS</h4>
                </div>
            <div class="button-items">
                <a class="btn btn-outline-primary py-2" style="font-size: 12px;font-family: Titillium Web;font-weight: 700;" href="{{ route('nit.create') }}">
                    <svg height="16" width="16" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 297 297" xml:space="preserve"><g>	<g>		<g>			<g>				<circle style="fill:#6AAC4B;" cx="148.5" cy="148.5" r="148.5" />			</g>		</g>	</g>	<path style="fill:#508733;" d="M296.994,148.006l-73.68-73.676L74.359,223.308l73.686,73.686c0.152,0,0.302,0.006,0.454,0.006   c82.014,0,148.5-66.486,148.5-148.5C297,148.335,296.994,148.171,296.994,148.006z" />	<g>		<path style="fill:#345F41;" d="M93.334,66h110.333C218.762,66,231,78.238,231,93.334v110.333C231,218.762,218.762,231,203.667,231    H93.334C78.238,231,66,218.762,66,203.667V93.334C66,78.238,78.238,66,93.334,66z" />	</g>	<polygon style="fill:#ECF0F1;" points="201,134.5 162.5,134.5 162.5,96 134.5,96 134.5,134.5 96,134.5 96,162.5 134.5,162.5    134.5,201 162.5,201 162.5,162.5 201,162.5  " /></g></svg>
                    AGREGAR CLIENTE
                </a>     
                <a class="btn btn-outline-primary py-2" style="font-size: 12px;font-family: Titillium Web;font-weight: 700;" href="#">
                    <svg width="16" height="16" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <defs> <linearGradient id="a" x1="4.494" y1="-2092.086" x2="13.832" y2="-2075.914" gradientTransform="translate(0 2100)" gradientUnits="userSpaceOnUse"> <stop offset="0" stop-color="#18884f" /> <stop offset="0.5" stop-color="#117e43" /> <stop offset="1" stop-color="#0b6631" /> </linearGradient> </defs> <title>file_type_excel</title> <path d="M19.581,15.35,8.512,13.4V27.809A1.192,1.192,0,0,0,9.705,29h19.1A1.192,1.192,0,0,0,30,27.809h0V22.5Z" style="fill:#185c37" /> <path d="M19.581,3H9.705A1.192,1.192,0,0,0,8.512,4.191h0V9.5L19.581,16l5.861,1.95L30,16V9.5Z" style="fill:#21a366" /> <path d="M8.512,9.5H19.581V16H8.512Z" style="fill:#107c41" /> <path d="M16.434,8.2H8.512V24.45h7.922a1.2,1.2,0,0,0,1.194-1.191V9.391A1.2,1.2,0,0,0,16.434,8.2Z" style="opacity:0.10000000149011612;isolation:isolate" /> <path d="M15.783,8.85H8.512V25.1h7.271a1.2,1.2,0,0,0,1.194-1.191V10.041A1.2,1.2,0,0,0,15.783,8.85Z" style="opacity:0.20000000298023224;isolation:isolate" /> <path d="M15.783,8.85H8.512V23.8h7.271a1.2,1.2,0,0,0,1.194-1.191V10.041A1.2,1.2,0,0,0,15.783,8.85Z" style="opacity:0.20000000298023224;isolation:isolate" /> <path d="M15.132,8.85H8.512V23.8h6.62a1.2,1.2,0,0,0,1.194-1.191V10.041A1.2,1.2,0,0,0,15.132,8.85Z" style="opacity:0.20000000298023224;isolation:isolate" /> <path d="M3.194,8.85H15.132a1.193,1.193,0,0,1,1.194,1.191V21.959a1.193,1.193,0,0,1-1.194,1.191H3.194A1.192,1.192,0,0,1,2,21.959V10.041A1.192,1.192,0,0,1,3.194,8.85Z" style="fill:url(#a)" /> <path d="M5.7,19.873l2.511-3.884-2.3-3.862H7.758L9.013,14.6c.116.234.2.408.238.524h.017c.082-.188.169-.369.26-.546l1.342-2.447h1.7l-2.359,3.84,2.419,3.905H10.821l-1.45-2.711A2.355,2.355,0,0,1,9.2,16.8H9.176a1.688,1.688,0,0,1-.168.351L7.515,19.873Z" style="fill:#fff" /> <path d="M28.806,3H19.581V9.5H30V4.191A1.192,1.192,0,0,0,28.806,3Z" style="fill:#33c481" /> <path d="M19.581,16H30v6.5H19.581Z" style="fill:#107c41" /> </svg>                    
                    DESCARGAR
                </a>
            </div>
            </div><!--end card-header-->

            <div class="card-body">
                <div class="table-responsive">                    
                    <table id="example" class="table table-striped mb-0">
                        <thead class="table-dark" style="font-size: 11px;">
                            <tr>
                                <th class="celdas" style="color: #FFFF80;border: 1px solid #0C213A;">EDITAR</th>
                                <th class="celdas" style="color: #FF5580;border: 1px solid #0C213A;">BORRAR</th>
                                <th class="celdas" style="color: #A3D8FF;border: 1px solid #0C213A;">NIT</th>
                                <th class="celdas" style="color: #A3D8FF;border: 1px solid #0C213A;">CLIENTE</th>
                                <th class="celdas" style="color: #A3D8FF;border: 1px solid #0C213A;">ESTADO</th>
                                <th class="celdas" style="color: #A3D8FF;border: 1px solid #0C213A;">CENTRO DE COSTO</th>
                                <th class="celdas" style="color: #A3D8FF;border: 1px solid #0C213A;">FECHA DE CIERRE</th>
                                <th class="celdas" style="color: #A3D8FF;border: 1px solid #0C213A;">FRECUENCIA</th>                                                          
                            </tr>
                        </thead>
                        <tbody style="font-size: 12px;font-family: Titillium Web;">
                            @foreach ($nits as $nit)
                                <tr style="text-align: center;">
                                    <td class="celdas" style="border: 1px solid #9FAACC;">
                                        <a class="btn btn-outline-warning px-2 py-0"
                                            href="{{ url('/nit/' . $nit->id . '/edit') }}">
                                            <svg height="20" width="20" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-43.18 -43.18 478.87 478.87" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0" /><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" /><g id="SVGRepo_iconCarrier"> <path style="fill:#FFFFFF;" d="M116.981,340.978l-90.44,25.083l25.018-90.505c7.24,10.925,28.509,22.044,46.804,18.618 C94.549,323.523,115.688,339.943,116.981,340.978z" /> <g> <path style="fill:#56ACE0;" d="M70.371,264.048c-17.002-16.873-3.749-38.723-3.943-38.788l46.739-46.739h43.83 c6.012,0,10.925-4.848,10.925-10.925c0-6.012-4.848-10.925-10.925-10.925h-22.044l18.036-18.036h54.691 c6.012,0,10.925-4.848,10.925-10.925c0-6.012-4.848-10.925-10.925-10.925h-32.905l38.529-38.529l42.731,42.731L113.102,264.048 C101.337,275.814,82.201,275.814,70.371,264.048z" /> <path style="fill:#56ACE0;" d="M271.551,136.436l42.731,42.731L165.919,327.531c0,0-21.786,9.568-37.43-5.301 c-9.18-8.792-14.158-28.574,0-42.731L271.551,136.436z" /> </g> <path style="fill:#FFC10D;" d="M365.999,127.451l-36.331,36.331l-50.36-50.36l-50.36-50.36l36.331-36.331 c6.012-6.012,16.614-6.012,22.626,0l78.222,78.222C372.27,110.966,372.27,121.18,365.999,127.451z" /> <path style="fill:#00000;" d="M381.45,89.374l-78.222-78.222c-15.321-14.869-38.271-14.869-53.463,0L47.615,213.301 c-1.293,1.293-2.327,3.038-2.78,4.784L0.424,378.796c-1.099,3.814,0,7.822,2.78,10.602c2.78,2.715,6.271,3.685,10.602,2.78 l160.711-44.412c1.745-0.517,3.491-1.487,4.784-2.78L381.45,142.836C396.189,128.097,396.189,104.113,381.45,89.374z M66.428,225.261l46.739-46.739h43.83c6.012,0,10.925-4.848,10.925-10.925c0-6.012-4.848-10.925-10.925-10.925h-22.044 l18.036-18.036h54.691c6.012,0,10.925-4.848,10.925-10.925c0-6.012-4.848-10.925-10.925-10.925h-32.905l38.529-38.529l42.731,42.731 L113.102,264.048c-11.766,11.766-30.901,11.766-42.731,0C53.369,247.176,66.622,225.325,66.428,225.261z M26.541,366.061 l25.018-90.505c7.24,10.925,28.509,22.044,46.804,18.618c-3.814,29.35,17.325,45.77,18.618,46.804L26.541,366.061z M165.919,327.531 c0,0-21.786,9.568-37.43-5.301c-9.18-8.792-14.158-28.574,0-42.731l143.063-143.063l42.731,42.731L165.919,327.531z M365.999,127.451l-36.331,36.331l-50.36-50.36l-50.36-50.36l36.331-36.331c6.012-6.012,16.614-6.012,22.626,0l78.222,78.222 C372.27,110.966,372.27,121.18,365.999,127.451z" /> </g></svg>
                                        </a>
                                    </td>
                                    <td class="celdas" style="border: 1px solid #9FAACC;">
                                        <form id="deleteForm" action="{{ route('nit.destroy', $nit->id) }}" method="POST">
                                            @csrf
                                            @method('DELETE')
                                            <button type="button" class="btn btn-outline-danger px-2 py-0" onclick="confirmDelete()">
                                                <svg height="20" width="20" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-27.21 -27.21 326.50 326.50" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0" /><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" /><g id="SVGRepo_iconCarrier"> <g> <path style="fill:#28D2E4;" d="M13.364,166.434c-7.811,7.811-7.811,20.474,0,28.284l63.988,63.989c7.81,7.81,20.474,7.81,28.284,0 l36.767-36.767L50.13,129.667L13.364,166.434z" /> <g> <path style="fill:#FFDB77;" d="M166.444,13.355L50.131,129.667l92.273,92.273l116.312-116.313c7.811-7.81,7.811-20.474,0-28.284 l-63.988-63.988C186.918,5.544,174.254,5.544,166.444,13.355z" /> <path style="fill:#22313F;" d="M264.02,72.04L200.031,8.052c-10.722-10.723-28.169-10.723-38.891,0 C159.878,9.314,11.792,157.4,8.061,161.131c-10.747,10.746-10.749,28.143,0,38.891l63.989,63.989 c10.746,10.747,28.143,10.749,38.891,0c0.951-0.951,150.325-150.325,153.08-153.08C274.767,100.185,274.769,82.788,264.02,72.04z M100.334,253.404c-4.885,4.885-12.792,4.885-17.678,0l-63.989-63.989c-4.885-4.885-4.886-12.792,0-17.678l31.464-31.464 l81.667,81.667L100.334,253.404z M253.414,100.325l-111.01,111.009l-81.666-81.666l111.009-111.01 c4.885-4.885,12.792-4.885,17.678,0l63.989,63.989C258.299,87.532,258.299,95.439,253.414,100.325z" /> </g> </g> </g></svg>
                                            </button>
                                        </form>
                                    </td>
                                    <td class="celdas" style="border: 1px solid #9FAACC;">{{ $nit->nit }}</td>
                                    <td class="celdas" style="border: 1px solid #9FAACC;">{{ $nit->nombre }}</td>                                    
                                    <td class="celdas" style="border: 1px solid #9FAACC;">{{ $nit->estado }}</td>
                                    <td class="celdas" style="border: 1px solid #9FAACC;">{{ $nit->centro_costo }}</td>
                                    <td class="celdas" style="border: 1px solid #9FAACC;">{{ $nit->fecha_cierre }}</td>
                                    <td class="celdas" style="border: 1px solid #9FAACC;">{{ $nit->frecuencia }}</td>                                    
                                </tr>
                            @endforeach
                        </tbody>
                    </table><!--end /table-->
                </div><!--end /tableresponsive-->
            </div>
            </div>
        </div>
    </div>
</div>

<script>
    function confirmDelete() {        
        if (confirm("¿Estás seguro(a) de que deseas eliminar este cliente?")) {            
            document.getElementById('deleteForm').submit();
        } 
    }
</script>
@if (session('success'))
    <script>
        Swal.fire("Cliente eliminado correctamente!").then((result) => {
            if (result.isConfirmed) {
                window.location = "/nit";
            }
        });
    </script>
@endif

<x-footer />
